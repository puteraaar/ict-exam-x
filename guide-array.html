<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guideline Ujian Praktik ICT - PSTS</title>
    <link rel="icon" type="image/x-icon" href="tea-mug.png">

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-white">
    <header>
        <nav class="fixed w-full z-20 top-0 start-0 bg-white border-b border-gray-300 p-4">
            <a href="exam.html" class="flex items-center text-gray-800 hover:text-blue-500">
                <span class="text-2xl mr-2">&larr;</span>
                <span class="font-semibold">Exam</span>
            </a>
        </nav>
    </header>
    <main class="mt-20">
        <section class="py-10">
            <div class="max-w-4xl mx-auto p-4">
                <h1 class="text-2xl font-bold mb-2">Practical Exam Guideline</h1>
                <p class="text-gray-700">Web Programming using HTML and Tailwind CSS</p>

                <div class="mt-6">
                    <div class="overflow-x-auto">
                        <table class="w-full min-w-[700px] text-sm text-gray-700 border-collapse border-spacing-0">
                            <thead class="bg-gray-100 text-gray-800 uppercase whitespace-nowrap">
                                <th scope="col" class="text-left p-4 border border-gray-300 min-w-[50px]">No.</th>
                                    <th scope="col" class="text-left p-4 border border-gray-300 min-w-[150px]">Kompetensi Dasar</th>
                                    <th scope="col" class="text-left p-4 border border-gray-300 min-w-[150px]">Materi</th>
                                    <th scope="col" class="text-left p-4 border border-gray-300 min-w-[300px]">Indikator</th>
                                </tr>
                            </thead>
                            <tbody id="kisiKisiTableBody" class="border-t border-gray-300"></tbody>
                        </table>
                    </div>
                </div>

                <div class="my-10">
                    <p class="font-bold">Good Luck! üëèüòâ</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="p-5 text-center">
        <p class="text-sm text-gray-500">¬© 2025 - Crafted by Putera Islam üß©</p>
    </footer>

    <script>
        // Data Kisi-kisi sebagai Array of Objects (sama seperti sebelumnya)
        const rawKisiKisiData = [
            {
                no: 1,
                kompetensi: "Analisis dan Persiapan Kode",
                materi: "Analisis Struktur Dasar HTML dan JavaScript.",
                indikator: "Siswa dapat menganalisis struktur dasar file praktik (HTML, variabel, loop, dan HTML ID) yang akan dimodifikasi dalam tugas.",
            },
            {
                no: 2,
                kompetensi: "Manipulasi Data (Array)",
                materi: "Pembuatan dan manipulasi Array of Objects",
                indikator: "Siswa dapat membuat dan mengisi JavaScript object array (data master) sesuai kebutuhan studi kasus.",
            },
            {
                no: 3,
                kompetensi: "Pencarian Data dan Input",
                materi: "Manipulasi DOM dan Looping (for loop).",
                indikator: "Siswa dapat mengambil nilai dari elemen input (seperti skor atau data lain) dan mencari data terkait dari array master menggunakan for loop dan kunci pencarian yang sesuai.",
            },
            {
                no: 4,
                kompetensi: "Perhitungan",
                materi: "Implementasi rumus matematika dasar.",
                indikator: "Siswa dapat menghitung nilai keluaran (misalnya Rata-rata/Total) menggunakan rumus matematika yang ditetapkan dalam tugas.",
            },
            {
                no: 5,
                kompetensi: "Struktur Kontrol",
                materi: "Penggunaan if...else if...else untuk logika penentuan kondisi.",
                indikator: "Siswa dapat menentukan kategori kondisi (misalnya Grade, Status, Predikat) menggunakan struktur if...else if...else berdasarkan kriteria perhitungan.",
            },
            {
                no: 6,
                kompetensi: "Output dan Styling (DOM)",
                materi: "Manipulasi DOM Tingkat Lanjut (Dropdown Dinamis).",
                indikator: "Siswa dapat membuat dropdown list secara dinamis menggunakan metode document.createElement dan forEach (atau loop lainnya), lalu menambahkannya ke elemen HTML (append() atau add()) berdasarkan data master.",
            },
            {
                no: 7,
                kompetensi: "Output dan Styling (DOM)",
                materi: "Manipulasi DOM (menampilkan teks dan mengubah atribut class).",
                indikator: "1. Siswa dapat menampilkan hasil teks kondisi (misalnya Grade) pada elemen output yang ditentukan.",
            },
            {
                no: 7,
                kompetensi: "Output dan Styling (DOM)",
                materi: "Manipulasi DOM (menampilkan teks dan mengubah atribut class).",
                indikator: "2. Siswa dapat menerapkan styling class (misalnya warna/latar belakang) secara dinamis pada elemen output berdasarkan hasil kondisi.",
            },
            {
                no: 7,
                kompetensi: "Output dan Styling (DOM)",
                materi: "Manipulasi DOM (menampilkan teks dan mengubah atribut class).",
                indikator: "3. Siswa dapat memodifikasi dan menampilkan elemen informasi lain (data yang dicari dan data input) agar ditampilkan dengan benar.",
            },
            {
                no: 8,
                kompetensi: "Validasi (Poin Bonus/Challenge)",
                materi: "Struktur kontrol (if) dan fungsi alert() untuk validasi data.",
                indikator: "Siswa dapat menambahkan validasi untuk menampilkan pesan kesalahan (alert()) jika input tidak valid (misalnya kosong atau di luar rentang yang ditentukan).",
            },
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const tbody = document.getElementById('kisiKisiTableBody');
            let html = '';
            
            // --- 1. Pre-process Data untuk Menghitung Rowspan Dinamis ---
            const rowSpans = {}; 
            
            rawKisiKisiData.forEach(item => {
                const key = `${item.no}-${item.kompetensi}-${item.materi}`;
                rowSpans[key] = (rowSpans[key] || 0) + 1;
            });

            // --- 2. Render Tabel dengan Rowspan Dinamis ---
            // Kelas TD dipertahankan untuk styling border dan padding
            const tdClasses = "p-4 border border-gray-300 align-top";
            
            const renderedKeys = new Set();

            for (let i = 0; i < rawKisiKisiData.length; i++) {
                const data = rawKisiKisiData[i];
                const key = `${data.no}-${data.kompetensi}-${data.materi}`;
                const spanCount = rowSpans[key];
                
                const isAlreadyRendered = renderedKeys.has(key);
                
                let noCell = '';
                let kompetensiCell = '';
                let materiCell = '';

                if (!isAlreadyRendered) {
                    // Hanya render sel jika ini adalah baris pertama dari grup
                    const span = spanCount > 1 ? `rowspan="${spanCount}"` : '';
                    
                    // Logika penanganan kasus khusus 6 dan 7
                    if (data.no === 6) {
                        // Kompetensi Dasar 6 dan 7 (spanning 4 baris total)
                        kompetensiCell = `<td rowspan="4" class="${tdClasses} font-medium">${data.kompetensi}</td>`;
                        // Nomor 6 (spanning 1 baris)
                        noCell = `<td class="${tdClasses} text-center font-bold">6</td>`;
                    } else if (data.no === 7) {
                        // Kompetensi Dasar 7 (Lewati sel karena sudah di-span oleh No. 6)
                        kompetensiCell = '';
                        // Nomor 7 (spanning 3 baris)
                        noCell = `<td rowspan="3" class="${tdClasses} text-center font-bold">7</td>`; 
                    } else {
                        // Untuk Kompetensi selain 6 dan 7
                        kompetensiCell = `<td ${span} class="${tdClasses} font-medium">${data.kompetensi}</td>`;
                        noCell = `<td ${span} class="${tdClasses} text-center font-bold">${data.no}</td>`;
                    }

                    // Materi: Gabungkan Materi hanya jika spanCount > 1
                    materiCell = `<td ${span} class="${tdClasses} font-medium">${data.materi}</td>`;
                    
                    // Tandai semua key dalam grup yang sama sebagai sudah di-render
                    if (spanCount > 1) {
                         for(let j = 0; j < spanCount; j++) {
                            const nextKey = `${rawKisiKisiData[i+j].no}-${rawKisiKisiData[i+j].kompetensi}-${rawKisiKisiData[i+j].materi}`;
                            renderedKeys.add(nextKey);
                        }
                    } else {
                        renderedKeys.add(key); // Tandai key tunggal
                    }
                }

                // Untuk baris No. 7 dan selanjutnya, kita tidak perlu mencetak sel Kompetensi karena sudah di-span
                if (data.no === 7 && isAlreadyRendered) {
                     kompetensiCell = '';
                }


                html += `
                    <tr class="hover:bg-gray-50">
                        ${noCell}
                        ${kompetensiCell}
                        ${materiCell}
                        <td class="${tdClasses}">${data.indikator}</td>
                    </tr>
                `;
            }

            tbody.innerHTML = html;
        });
    </script>
</body>
</html>