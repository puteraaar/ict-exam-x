<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guideline Ujian Praktik ICT - PSTS</title>
    <link rel="icon" type="image/x-icon" href="tea-mug.png">

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-white">
    <header>
        <nav class="fixed w-full z-20 top-0 start-0 bg-white border-b border-gray-300 p-4">
            <a href="exam.html" class="flex items-center text-gray-800 hover:text-blue-500">
                <span class="text-2xl mr-2">&larr;</span>
                <span class="font-semibold">Exam</span>
            </a>
        </nav>
    </header>
    <main class="mt-20">
        <section class="py-10">
            <div class="max-w-4xl mx-auto p-4">
                <h1 class="text-2xl font-bold mb-2">Practical Exam Guideline</h1>
                <p class="text-gray-700">Pengembangan Web Dinamis Menggunakan PHP MySQL</p>

                <div class="mt-6">
                    <div class="overflow-x-auto">
                        <table class="w-full min-w-[700px] text-sm text-gray-700 border-collapse border-spacing-0">
                            <thead class="bg-gray-100 text-gray-800 uppercase whitespace-nowrap">
                                <th scope="col" class="text-left p-4 border border-gray-300 min-w-[50px]">No.</th>
                                    <th scope="col" class="text-left p-4 border border-gray-300 min-w-[150px]">Kompetensi Dasar</th>
                                    <th scope="col" class="text-left p-4 border border-gray-300 min-w-[150px]">Materi</th>
                                    <th scope="col" class="text-left p-4 border border-gray-300 min-w-[300px]">Indikator</th>
                                </tr>
                            </thead>
                            <tbody id="kisiKisiTableBody" class="border-t border-gray-300"></tbody>
                        </table>
                    </div>
                </div>

                <div class="my-10">
                    <p class="font-bold">Good Luck! üëèüòâ</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="p-5 text-center">
        <p class="text-sm text-gray-500">¬© 2025 - Crafted by Putera Islam üß©</p>
    </footer>

    <script>
        // Data Kisi-kisi sebagai Array of Objects (sama seperti sebelumnya)
        const rawKisiKisiData = [
            {
                no: 1,
                kompetensi: "Menerapkan struktur basis data dan manajemen data MySQL.",
                materi: "Database Management.",
                indikator: "Siswa mampu membuat database, tabel dengan tipe data yang sesuai (INT, VARCHAR, DATE), serta menentukan Primary Key serta Auto Increment.",
            },
            {
                no: 2,
                kompetensi: "Mengintegrasikan aplikasi web dengan database menggunakan PHP.",
                materi: "Database Connectivity",
                indikator: "Siswa mampu membangun koneksi antara file PHP dan MySQL menggunakan fungsi mysqli_connect().",
            },
            {
                no: 3,
                kompetensi: "Mengelola manipulasi data pada aplikasi web (Full CRUD).",
                materi: "CRUD Operations",
                indikator: "Siswa mampu membuat form input HTML dan menggunakan query INSERT INTO untuk menyimpan data ke database.",
            },
            {
                no: 3,
                kompetensi: "Mengelola manipulasi data pada aplikasi web (Full CRUD).",
                materi: "CRUD Operations",
                indikator: "Siswa mampu mengambil data dari database menggunakan query SELECT dan menampilkannya ke tabel HTML menggunakan perulangan while.",
            },
            {
                no: 3,
                kompetensi: "Mengelola manipulasi data pada aplikasi web (Full CRUD).",
                materi: "CRUD Operations",
                indikator: "Siswa mampu mengambil data spesifik berdasarkan ID, menampilkannya kembali pada form, dan menyimpannya menggunakan query UPDATE.",
            },
            {
                no: 3,
                kompetensi: "Mengelola manipulasi data pada aplikasi web (Full CRUD).",
                materi: "CRUD Operations",
                indikator: "Siswa mampu menghapus record data tertentu dari database berdasarkan ID yang dikirim melalui URL (GET).",
            },
            {
                no: 4,
                kompetensi: "Mengimplementasikan logika pemrograman dan fungsi agregasi.",
                materi: "Backend Logic & SQL Aggregation.",
                indikator: "Siswa mampu menggunakan fungsi SUM() pada SQL dan menerapkan logika kondisi if...else di PHP untuk perhitungan otomatis.",
            },
            {
                no: 5,
                kompetensi: "Merancang antarmuka pengguna yang responsif dan estetis.",
                materi: "Tailwind CSS.",
                indikator: "Siswa mampu mengimplementasikan utility classes Tailwind CSS v4 untuk membuat desain tabel, form, dan indikator warna yang informatif.",
            },
            {
                no: 6,
                kompetensi: "Melakukan pengelolaan proyek",
                materi: "Project Deployment.",
                indikator: "Siswa mampu mengekspor database ke format .sql.",
            }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const tbody = document.getElementById('kisiKisiTableBody');
            let html = '';
            
            // --- 1. Pre-process Data untuk Menghitung Rowspan Dinamis ---
            const rowSpans = {}; 
            
            rawKisiKisiData.forEach(item => {
                const key = `${item.no}-${item.kompetensi}-${item.materi}`;
                rowSpans[key] = (rowSpans[key] || 0) + 1;
            });

            // --- 2. Render Tabel dengan Rowspan Dinamis ---
            // Kelas TD dipertahankan untuk styling border dan padding
            const tdClasses = "p-4 border border-gray-300 align-top";
            
            const renderedKeys = new Set();

            for (let i = 0; i < rawKisiKisiData.length; i++) {
                const data = rawKisiKisiData[i];
                const key = `${data.no}-${data.kompetensi}-${data.materi}`;
                const spanCount = rowSpans[key];
                
                const isAlreadyRendered = renderedKeys.has(key);
                
                let noCell = '';
                let kompetensiCell = '';
                let materiCell = '';

                if (!isAlreadyRendered) {
                    // Hanya render sel jika ini adalah baris pertama dari grup
                    const span = spanCount > 1 ? `rowspan="${spanCount}"` : '';
                    
                    // Logika penanganan kasus khusus 6 dan 7
                    if (data.no === 6) {
                        // Kompetensi Dasar 6 dan 7 (spanning 4 baris total)
                        kompetensiCell = `<td rowspan="4" class="${tdClasses} font-medium">${data.kompetensi}</td>`;
                        // Nomor 6 (spanning 1 baris)
                        noCell = `<td class="${tdClasses} text-center font-bold">6</td>`;
                    } else if (data.no === 7) {
                        // Kompetensi Dasar 7 (Lewati sel karena sudah di-span oleh No. 6)
                        kompetensiCell = '';
                        // Nomor 7 (spanning 3 baris)
                        noCell = `<td rowspan="3" class="${tdClasses} text-center font-bold">7</td>`; 
                    } else {
                        // Untuk Kompetensi selain 6 dan 7
                        kompetensiCell = `<td ${span} class="${tdClasses} font-medium">${data.kompetensi}</td>`;
                        noCell = `<td ${span} class="${tdClasses} text-center font-bold">${data.no}</td>`;
                    }

                    // Materi: Gabungkan Materi hanya jika spanCount > 1
                    materiCell = `<td ${span} class="${tdClasses} font-medium">${data.materi}</td>`;
                    
                    // Tandai semua key dalam grup yang sama sebagai sudah di-render
                    if (spanCount > 1) {
                         for(let j = 0; j < spanCount; j++) {
                            const nextKey = `${rawKisiKisiData[i+j].no}-${rawKisiKisiData[i+j].kompetensi}-${rawKisiKisiData[i+j].materi}`;
                            renderedKeys.add(nextKey);
                        }
                    } else {
                        renderedKeys.add(key); // Tandai key tunggal
                    }
                }

                // Untuk baris No. 7 dan selanjutnya, kita tidak perlu mencetak sel Kompetensi karena sudah di-span
                if (data.no === 7 && isAlreadyRendered) {
                     kompetensiCell = '';
                }


                html += `
                    <tr class="hover:bg-gray-50">
                        ${noCell}
                        ${kompetensiCell}
                        ${materiCell}
                        <td class="${tdClasses}">${data.indikator}</td>
                    </tr>
                `;
            }

            tbody.innerHTML = html;
        });
    </script>
</body>
</html>